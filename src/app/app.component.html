<div class="app-wrapper">
  <section id="app">
    <section class="logo">
      <img src="assets/logo.svg" />
    </section>
    <section class="output">
      <table
        mat-table
        [dataSource]="rooms"
        id="room-table"
        class="mat-elevation-z8"
      >
        <!-- Room Lock Column -->
        <ng-container matColumnDef="RoomLock">
          <th mat-header-cell *matHeaderCellDef class="room-lock"></th>
          <td mat-cell *matCellDef="let room" class="room-lock">
            <button mat-icon-button (click)="toggleRoomLock(room)">
              <mat-icon>{{ room.locked ? "lock" : "lock_open" }}</mat-icon>
            </button>
          </td>
        </ng-container>

        <!-- Room Name Column -->
        <ng-container matColumnDef="Room">
          <th mat-header-cell *matHeaderCellDef class="room-name">Room</th>
          <td mat-cell *matCellDef="let room" class="room-name">
            {{ room.name }}
          </td>
        </ng-container>

        <!-- Room Pack Icon Column -->
        <ng-container matColumnDef="Icon">
          <th mat-header-cell *matHeaderCellDef></th>
          <td mat-cell *matCellDef="let room">
            <img [src]="room.pack.icon" class="pack-icon" />
          </td>
        </ng-container>

        <!-- Room Pack Name Column -->
        <ng-container matColumnDef="Pack">
          <th mat-header-cell *matHeaderCellDef class="col-expand">Pack</th>
          <td mat-cell class="col-middle" *matCellDef="let room">
            {{ room.pack.name }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>

      <button mat-mini-fab (click)="randomize()" color="primary">
        <mat-icon>casino</mat-icon>
      </button>
    </section>

    <section class="pack-settings">
      <h2>Pack Settings</h2>
      <h3>Expansion Packs</h3>
      <mat-divider></mat-divider>

      <section class="pack-choices">
        <ng-container *ngFor="let pack of packs">
          <mat-checkbox
            *ngIf="pack.category == 'Expansion'"
            class="pack-toggle"
            [checked]="pack.enabled"
            (change)="togglePack(pack)"
            color="primary"
            >{{ pack.name }}</mat-checkbox
          >
        </ng-container>
      </section>

      <h3>Game Packs</h3>
      <mat-divider></mat-divider>

      <section class="pack-choices">
        <ng-container *ngFor="let pack of packs">
          <mat-checkbox
            *ngIf="pack.category == 'Game'"
            class="pack-toggle"
            [checked]="pack.enabled"
            (change)="togglePack(pack)"
            color="primary"
            >{{ pack.name }}</mat-checkbox
          >
        </ng-container>
      </section>

      <h3>Stuff Packs</h3>
      <mat-divider></mat-divider>

      <section class="pack-choices">
        <ng-container *ngFor="let pack of packs">
          <mat-checkbox
            *ngIf="pack.category == 'Stuff'"
            class="pack-toggle"
            [checked]="pack.enabled"
            (change)="togglePack(pack)"
            color="primary"
            >{{ pack.name }}</mat-checkbox
          >
        </ng-container>
      </section>

      <h3>Free Packs</h3>
      <mat-divider></mat-divider>

      <section class="pack-choices">
        <ng-container *ngFor="let pack of packs">
          <mat-checkbox
            *ngIf="pack.category == 'Free'"
            class="pack-toggle"
            [checked]="pack.enabled"
            (change)="togglePack(pack)"
            color="primary"
            >{{ pack.name }}</mat-checkbox
          >
        </ng-container>
      </section>
    </section>
  </section>
</div>
